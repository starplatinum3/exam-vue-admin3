(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e338cd3"],{"102a":function(e,t,a){"use strict";a("8f44")},"4a0c":function(e,t,a){"use strict";var s=a("b775");t["a"]={pageList:function(e){return Object(s["a"])("/api/admin/exam/paper/page",e)},taskExamPage:function(e){return Object(s["a"])("/api/admin/exam/paper/taskExamPage",e)},edit:function(e){return Object(s["a"])("/api/admin/exam/paper/edit",e)},select:function(e){return Object(s["a"])("/api/admin/exam/paper/select/"+e)},deletePaper:function(e){return Object(s["a"])("/api/admin/exam/paper/delete/"+e)}}},"8c63":function(e,t,a){"use strict";var s=a("b775");t["a"]={select_table_name_list:function(e){return Object(s["a"])("/api/all/SELECT_table_name_list",e)},select_information_schema_columns:function(e){return Object(s["a"])("/api/all/select_information_schema_columns",e)},select_limit_10:function(e){return Object(s["a"])("/api/all/select_limit_10",e)},select_by_content_like:function(e){return Object(s["a"])("/api/all/select_by_content_like",e)},selectBySql:function(e){return Object(s["a"])("/api/all/selectBySql",e)},selectPageEqual:function(e){return Object(s["a"])("/api/admin/question/selectPage/equal",e)},findAllEsQuestion:function(e){return Object(s["a"])("/api/all/findAllEsQuestion",e)},insert_into_batch_null_id:function(e){return Object(s["a"])("/api/all/insert_into_batch_null_id",e)},StatisticsPaperScore:function(e){return Object(s["a"])("/api/all/StatisticsPaperScore",e)}}},"8f44":function(e,t,a){},"9e0b":function(e,t,a){"use strict";a.r(t);a("9bb8"),a("1944"),a("a7b5");var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-contain",staticStyle:{"margin-top":"10px"}},[e._v(" createUserName "),t("el-input",{model:{value:e.query.createUserName,callback:function(t){e.$set(e.query,"createUserName",t)},expression:"query.createUserName"}}),t("el-button",{attrs:{type:""},on:{click:e.selectPageByCreateUserName}},[e._v("selectPageByCreateUserName")]),t("el-button",{attrs:{type:""},on:{click:e.search}},[e._v("search")]),t("div",[e._v("systemScoreSum 计算的分数 "+e._s(e.systemScoreSum))]),t("div",[e._v("userScoreSum 得到的成绩 "+e._s(e.userScoreSum))]),t("div",[e._v("paperScoreSum 试卷的满分 "+e._s(e.paperScoreSum))]),t("div",[e._v("questionCorrectSum 作对的题目数量 "+e._s(e.questionCorrectSum))]),t("div",[e._v("questionCountSum 一共有多少题目 "+e._s(e.questionCountSum))]),t("div",[e._v("doTimeSum 花了时间 "+e._s(e.doTimeSum)+" 秒")]),t("div",[e._v("examPaper.name "+e._s(e.examPaper.name))]),t("div",[e._v("examPaper.score "+e._s(e.examPaper.score))]),e._v(" showStuEchartsByType "),t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"showStuEchartsByType"}}),t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"system_score_percent_avg_of_user_score"}}),t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"system_score_percent_avg"}}),t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"getScoreAndAutoScore"}})],1)},r=[],n=a("56c3"),o=a("272e"),c=(a("c619"),a("7736")),u=a("333d"),l=a("ed24"),i=(a("c24f"),a("4a0c")),p=a("8c63"),m=a("014a"),d=a("09f4"),g=a("a887"),_=a("b042"),S=a("93e7"),h=a("a7dd"),y={components:{Pagination:u["a"]},data:function(){return{examPaper:{},userScoreSum:0,paperScoreSum:0,questionCorrectSum:0,questionCountSum:0,doTimeSum:0,query:{id:null,examPaperId:null,paperName:null,paperType:null,subjectId:null,systemScore:null,userScore:null,paperScore:null,questionCorrect:null,questionCount:null,doTime:null,status:null,createUser:null,createTime:null,taskExamId:null,tenantId:null},queryParam:{pageIndex:1,pageSize:10},listLoading:!1,tableData:[],total:0,selectItem:{systemScore:"0",userScore:"0",doTime:"0",paperScore:"0",questionCorrect:0,questionCount:0},systemScoreSum:0,user:{}}},created:function(){this.search(),Object(d["a"])(0,800)},methods:{search:function(){var e=this,t=this.$route.query.createUserId||null,a=this.$route.query.examPaperId||null,s=this;console.log("search examPaperAnswerApi");var r={id:null,examPaperId:a,paperName:null,paperType:null,subjectId:null,systemScore:null,userScore:null,paperScore:null,questionCorrect:null,questionCount:null,doTime:null,status:null,createUser:t,createTime:null,taskExamId:null,tenantId:null};l["a"].selectByExamPaperId({pageNumber:1,pageSize:10},r).then((function(e){console.log("data"),console.log(e),s.setDataMybatisPls(e)})),i["a"].select(a).then((function(t){console.log("examPaperApi.select"),console.log(t),e.examPaper=t.response})),p["a"].StatisticsPaperScore({}).then((function(e){console.log(e);e.response;var t=h["a"].getListOfProp(e.response,"paper_name"),a=h["a"].getListOfProp(e.response,"user_score_percent_avg"),s=h["a"].getListOfProp(e.response,"system_score_percent_avg"),r=[{echartsId:"system_score_percent_avg",title:"试卷成绩统计 系统判定得分/试卷总分",legend:["获得成绩 百分之"],valName:"获得成绩 百分之",names:t,datas:h["a"].getListOfProp(e.response,"system_score_percent_avg")},{echartsId:"system_score_percent_avg_of_user_score",title:"试卷成绩统计 系统判定得分/最终得分",legend:["获得成绩 百分之"],valName:"获得成绩 百分之",names:t,datas:h["a"].getListOfProp(e.response,"system_score_percent_avg_of_user_score")}],n=echarts.init(document.getElementById("showStuEchartsByType")),o={title:{text:"试卷成绩统计 最终得分/试卷总分"},tooltip:{},legend:{data:["获得成绩 百分之"]},xAxis:{data:t},yAxis:{},series:[{name:"成绩 百分之",type:"bar",data:a}]};n.setOption(o);for(var c=0,u=r;c<u.length;c++){var l=u[c];Object(m["a"])(l)}var i=echarts.init(document.getElementById("getScoreAndAutoScore")),p={title:{text:"试卷成绩统计 最终得分/试卷总分"},tooltip:{},legend:{data:["获得成绩 百分之"]},xAxis:{data:t},yAxis:{},series:[{name:"成绩 百分之 最终得分",type:"bar",data:a},{name:"成绩 百分之 系统判定得分",type:"bar",data:s}]};i.setOption(p)}))},selectPageByCreateUserName:function(){var e=this.$route.query.createUserId||null,t=this;console.log("search examPaperAnswerApi");this.query.createUserName;l["a"].selectPageByCreateUserName({pageNumber:1,pageSize:10},this.query).then((function(e){console.log("data"),console.log(e),t.setDataMybatisPls(e)}))},exportTableDataToXlsx:function(){g["a"].openDownloadDialogOfData(this.tableData,"exportdata.xlsx")},changeDate:function(e){var t,a=Object(o["a"])(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.createTimeStr=Object(S["b"])(s.createTime)}}catch(r){a.e(r)}finally{a.f()}},groupByEchartsShow:function(e){console.log("this.paperTypeEnum"),console.log(this.paperTypeEnum);var t=Object(_["a"])(e,(function(e){return e.paperName})),a=Object(_["a"])(e,(function(e){return e.paperType})),s=[],r=[],n=[];for(var c in console.log("groupBy_paperType"),console.log(a),a){var u=a[c],l=this.getPaperTypeName(c);l||(console.log("typeName not found"),console.log("i"),console.log(c)),console.log("o"),console.log(u),r.push(l),n.push(c);var i,p=0,d=Object(o["a"])(u);try{for(d.s();!(i=d.n()).done;){var g=i.value;p+=parseFloat(g.questionCount)}}catch(I){d.e(I)}finally{d.f()}s.push(p)}console.log("groupBy_paperName"),console.log(t);var S=[],h=[],y=[],f=[];for(var v in t){var b=t[v];S.push(v);var x,P=0,O=0,q=0,T=0,j=Object(o["a"])(b);try{for(j.s();!(x=j.n()).done;){var C=x.value;P+=parseFloat(C.userScore),O+=parseFloat(C.systemScore),q+=parseFloat(C.paperScore),T++}}catch(I){j.e(I)}finally{j.f()}b.sum=P,b.count=T,b.avg=P/T,b.systemScoreSum=O,b.paperScoreSum=q,b.avgScoreGot=O/q,y.push(q),h.push(O),f.push(b.avgScoreGot)}console.log("groupBy_paperName"),console.log(t),Object(m["c"])(r,s,"showStuEchartsByType")},setDataMybatisPls:function(e){var t=this;if(2==e.code)return this.$message.error(e.message),void(t.listLoading=!1);var a=e.response;t.tableData=e.response.records||e.response,console.log("_this.tableData"),console.log(t.tableData),t.calAll(t.tableData),t.total=a.total,t.queryParam.pageIndex=a.current,t.listLoading=!1},setData:function(e){var t=this,a=e.response;t.tableData=a.list,t.total=a.total,t.queryParam.pageIndex=a.pageNum,t.listLoading=!1},calAll:function(e){var t=h["a"].sum(e,"systemScore");this.systemScoreSum=t,this.userScoreSum=h["a"].sum(e,"userScore"),this.paperScoreSum=h["a"].sum(e,"paperScore"),this.questionCorrectSum=h["a"].sum(e,"questionCorrect"),this.questionCountSum=h["a"].sum(e,"questionCount"),this.doTimeSum=h["a"].sum(e,"doTime")},itemSelect:function(e,t,a){this.selectItem=e},statusTagFormatter:function(e){return this.enumFormat(this.statusTag,e)},statusTextFormatter:function(e){return this.enumFormat(this.statusEnum,e)}},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])("enumItem",["enumFormat"])),Object(c["e"])("enumItem",{statusEnum:function(e){return e.exam.examPaperAnswer.statusEnum},statusTag:function(e){return e.exam.examPaperAnswer.statusTag}}))},f=y,v=(a("102a"),a("e607")),b=Object(v["a"])(f,s,r,!1,null,"3ae49a9d",null);t["default"]=b.exports}}]);