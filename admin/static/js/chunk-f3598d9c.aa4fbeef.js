(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3598d9c"],{"0860":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("div",[e._v("initWebSocket")]),t("el-input",{attrs:{placeholder:"websocketSendData"},model:{value:e.websocketSendData,callback:function(t){e.websocketSendData=t},expression:"websocketSendData"}}),t("el-button",{attrs:{type:"primary"},on:{click:e.websocketSendDataDo}},[e._v("websocketSendDataDo")]),t("el-button",{attrs:{type:"primary"},on:{click:e.ArrowRightKeyDown}},[e._v("ArrowRightKeyDown")]),t("el-button",{attrs:{type:"primary"},on:{click:e.EchartsShowEyesightLook}},[e._v("EchartsShowEyesightLook")]),t("el-button",{attrs:{type:"primary"},on:{click:e.EnterKeyDown}},[e._v("EnterKeyDown")]),t("div",{staticClass:"box"},[t("ul",{staticClass:"box-inner"},[t("li",{on:{click:e.EscapeKeyDown}}),t("li",{on:{click:e.ArrowUpKeyDown}},[e._v("↑")]),t("li"),t("li",{on:{click:e.ArrowLeftKeyDown}},[e._v("←")]),t("li",{on:{click:e.EnterKeyDown}},[e._v("ok")]),t("li",{on:{click:e.ArrowRightKeyDown}},[e._v("→")]),t("li"),t("li",{on:{click:e.ArrowDownKeyDown}},[e._v("↓")]),t("li")])])],1)},i=[],c=(o("c619"),o("c30d"),{components:{},data:function(){return{websocketSendData:"",roomId:1,lockReconnect:!1,timeout:58e3,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null}},created:function(){this.initWebSocket()},destroyed:function(){this.websock.close()},methods:{EchartsShowEyesightLook:function(){this.$router.push({path:"/test/EchartsShowEyesight",query:{roomId:this.roomId}})},currentTime:function(){setInterval(this.formatDate,500)},EscapeKeyDown:function(){var e={type:"keydown",timeStamp:75615.80000007153,altKey:!1,code:"Escape",ctrlKey:!1,isComposing:!1,key:"Escape",location:0,metaKey:!1,repeat:!1,shiftKey:!1,charCode:0,keyCode:27,which:27},t=JSON.stringify(e);this.websocketSend(t)},ArrowUpKeyDown:function(){var e={type:"keydown",timeStamp:13785.700000047684,altKey:!1,code:"ArrowUp",ctrlKey:!1,isComposing:!1,key:"ArrowUp",location:0,metaKey:!1,repeat:!1,shiftKey:!1,charCode:0,keyCode:38,which:38},t=JSON.stringify(e);this.websocketSend(t)},ArrowDownKeyDown:function(){var e={type:"keydown",timeStamp:28536.600000023842,altKey:!1,code:"ArrowDown",ctrlKey:!1,isComposing:!1,key:"ArrowDown",location:0,metaKey:!1,repeat:!1,shiftKey:!1,charCode:0,keyCode:40,which:40},t=JSON.stringify(e);this.websocketSend(t)},ArrowLeftKeyDown:function(){var e={type:"keydown",timeStamp:29483.200000047684,altKey:!1,code:"ArrowLeft",ctrlKey:!1,isComposing:!1,key:"ArrowLeft",location:0,metaKey:!1,repeat:!1,shiftKey:!1,charCode:0,keyCode:37,which:37},t=JSON.stringify(e);this.websocketSend(t)},ArrowRightKeyDown:function(){var e={type:"keydown",timeStamp:30081.700000047684,altKey:!1,code:"ArrowRight",ctrlKey:!1,isComposing:!1,key:"ArrowRight",location:0,metaKey:!1,repeat:!1,shiftKey:!1,charCode:0,keyCode:39,which:39},t=JSON.stringify(e);this.websocketSend(t)},EnterKeyDown:function(){var e={type:"keydown",timeStamp:54161.300000071526,altKey:!1,code:"Enter",ctrlKey:!1,isComposing:!1,key:"Enter",location:0,metaKey:!1,repeat:!1,shiftKey:!1,charCode:0,keyCode:13,which:13},t=JSON.stringify(e);this.websocketSend(t)},websocketSendDataDo:function(){this.websocketSend(this.websocketSendData)},initWebSocket:function(){console.log("this.roomId initWebSocket"),console.log(this.roomId);var e="ws://43.142.150.223:8003/webSocket/"+this.roomId;this.websock=new WebSocket(e),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("websocketonopen"),this.start()},websocketonerror:function(e){console.log("出现错误"),console.log(e),this.reconnect()},websocketonmessage:function(e){console.log(e.data),this.reset()},websocketsend:function(e){this.websock.send(e)},websocketSend:function(e){this.websock.send(e)},websocketclose:function(e){console.log("断开连接",e),this.reconnect()},reconnect:function(){var e=this;e.lockReconnect||(e.lockReconnect=!0,e.timeoutnum&&clearTimeout(e.timeoutnum),e.timeoutnum=setTimeout((function(){e.initWebSocket(),e.lockReconnect=!1}),5e3))},reset:function(){var e=this;clearTimeout(e.timeoutObj),clearTimeout(e.serverTimeoutObj),e.start()},start:function(){console.log("开启心跳");var e=this;e.timeoutObj&&clearTimeout(e.timeoutObj),e.serverTimeoutObj&&clearTimeout(e.serverTimeoutObj),e.timeoutObj=setTimeout((function(){console.log("self.websock"),console.log(e.websock),1==e.websock.readyState||e.reconnect(),e.serverTimeoutObj=setTimeout((function(){e.websock.close()}),e.timeout)}),e.timeout)}},mounted:function(){this.currentTime()},beforeDestroy:function(){this.formatDate&&clearInterval(this.formatDate)}}),s=c,r=(o("cd03"),o("e607")),a=Object(r["a"])(s,n,i,!1,null,"3997b2cb",null);t["default"]=a.exports},"52e7":function(e,t,o){},cd03:function(e,t,o){"use strict";o("52e7")}}]);