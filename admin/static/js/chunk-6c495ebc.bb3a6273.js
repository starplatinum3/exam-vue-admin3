(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c495ebc"],{"00ea":function(e,t,a){"use strict";a("fb30")},"1e0f":function(e,t,a){"use strict";a.r(t);a("9bb8"),a("1944");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-contain",staticStyle:{"margin-top":"10px"}},[e._v(" createUserName "),t("el-input",{model:{value:e.query.createUserName,callback:function(t){e.$set(e.query,"createUserName",t)},expression:"query.createUserName"}}),t("el-button",{attrs:{type:""},on:{click:e.selectPageByCreateUserName}},[e._v("selectPageByCreateUserName")]),e._v(" id "),t("el-input",{model:{value:e.query.id,callback:function(t){e.$set(e.query,"id",t)},expression:"query.id"}}),e._v(" examPaperId "),t("el-input",{model:{value:e.query.examPaperId,callback:function(t){e.$set(e.query,"examPaperId",t)},expression:"query.examPaperId"}}),e._v(" paperName "),t("el-input",{model:{value:e.query.paperName,callback:function(t){e.$set(e.query,"paperName",t)},expression:"query.paperName"}}),e._v(" paperType "),t("el-input",{model:{value:e.query.paperType,callback:function(t){e.$set(e.query,"paperType",t)},expression:"query.paperType"}}),e._v(" subjectId "),t("el-input",{model:{value:e.query.subjectId,callback:function(t){e.$set(e.query,"subjectId",t)},expression:"query.subjectId"}}),e._v(" systemScore "),t("el-input",{model:{value:e.query.systemScore,callback:function(t){e.$set(e.query,"systemScore",t)},expression:"query.systemScore"}}),e._v(" userScore "),t("el-input",{model:{value:e.query.userScore,callback:function(t){e.$set(e.query,"userScore",t)},expression:"query.userScore"}}),e._v(" paperScore "),t("el-input",{model:{value:e.query.paperScore,callback:function(t){e.$set(e.query,"paperScore",t)},expression:"query.paperScore"}}),e._v(" questionCorrect "),t("el-input",{model:{value:e.query.questionCorrect,callback:function(t){e.$set(e.query,"questionCorrect",t)},expression:"query.questionCorrect"}}),e._v(" questionCount "),t("el-input",{model:{value:e.query.questionCount,callback:function(t){e.$set(e.query,"questionCount",t)},expression:"query.questionCount"}}),e._v(" doTime "),t("el-input",{model:{value:e.query.doTime,callback:function(t){e.$set(e.query,"doTime",t)},expression:"query.doTime"}}),e._v(" status "),t("el-input",{model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}}),t("el-select",{ref:"valSelect",staticStyle:{width:"312px"},attrs:{filterable:""},on:{blur:e.valSelectBlur,focus:e.valSelectFocus,change:e.valSelectChange},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},e._l(e.options,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),e._v(" createUser "),t("el-input",{model:{value:e.query.createUser,callback:function(t){e.$set(e.query,"createUser",t)},expression:"query.createUser"}}),e._v(" createTime "),t("el-input",{model:{value:e.query.createTime,callback:function(t){e.$set(e.query,"createTime",t)},expression:"query.createTime"}}),e._v(" taskExamId "),t("el-input",{model:{value:e.query.taskExamId,callback:function(t){e.$set(e.query,"taskExamId",t)},expression:"query.taskExamId"}}),e._v(" tenantId "),t("el-input",{model:{value:e.query.tenantId,callback:function(t){e.$set(e.query,"tenantId",t)},expression:"query.tenantId"}}),t("el-button",{attrs:{type:""},on:{click:e.search}},[e._v("search")]),t("el-row",{attrs:{gutter:50}},[t("el-col",{attrs:{span:18}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:"","highlight-current-row":""},on:{"row-click":e.itemSelect}},[t("el-table-column",{attrs:{prop:"id",label:"序号",width:"90px"}}),t("el-table-column",{attrs:{prop:"paperName",label:"名称"}}),t("el-table-column",{attrs:{sortable:"",prop:"subjectName",label:"学科",width:"100"}}),t("el-table-column",{attrs:{sortable:"",prop:"createUserName",label:"createUserName",width:"100"}}),t("el-table-column",{attrs:{sortable:"",label:"状态",prop:"status",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("el-tag",{attrs:{type:e.statusTagFormatter(r.status)}},[e._v(" "+e._s(e.statusTextFormatter(r.status))+" ")])]}}])}),t("el-table-column",{attrs:{prop:"createTimeStr",label:"做题时间",width:"170"}}),t("el-table-column",{attrs:{align:"right",width:"70"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[1===r.status?t("router-link",{attrs:{target:"_blank",to:{path:"/exam/EditExamRecord",query:{id:r.id}}}},[t("el-button",{attrs:{type:"text",size:"small"}},[e._v("批改")])],1):e._e(),t("router-link",{attrs:{target:"_blank",to:{path:"/read",query:{id:r.id}}}},[t("el-button",{attrs:{type:"text",size:"small"}},[e._v("查看试卷")])],1)]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticStyle:{"margin-top":"20px"},attrs:{total:e.total,background:!1,page:e.queryParam.pageNumber,limit:e.queryParam.pageSize},on:{"update:page":function(t){return e.$set(e.queryParam,"pageNumber",t)},"update:limit":function(t){return e.$set(e.queryParam,"pageSize",t)},pagination:e.search}}),t("el-button",{on:{click:e.exportTableDataToXlsx}},[e._v("exportTableDataToXlsx")])],1),t("el-col",{attrs:{span:6}},[t("el-card",{staticClass:"record-answer-info"},[e._v(" selectItem "+e._s(e.selectItem)+" "),t("el-form",{attrs:{"label-width":"50%"}},[t("el-form-item",{attrs:{label:"系统判分："}},[t("span",[e._v(e._s(e.selectItem.systemScore))])]),t("el-form-item",{attrs:{label:"最终得分："}},[t("span",[e._v(e._s(e.selectItem.userScore))])]),t("el-form-item",{attrs:{label:"试卷总分："}},[t("span",[e._v(e._s(e.selectItem.paperScore))])]),t("el-form-item",{attrs:{label:"正确题数："}},[t("span",[e._v(e._s(e.selectItem.questionCorrect))])]),t("el-form-item",{attrs:{label:"总题数："}},[t("span",[e._v(e._s(e.selectItem.questionCount))])]),t("el-form-item",{attrs:{label:"用时："}},[t("span",[e._v(e._s(e.selectItem.doTime))])]),t("el-form-item",{attrs:{label:"status"}},[t("span",[e._v(e._s(e.selectItem.status))])])],1)],1)],1)],1),t("div",[e._v("systemScoreSum 计算的分数 "+e._s(e.systemScoreSum))]),t("div",[e._v("userScoreSum 得到的成绩 "+e._s(e.userScoreSum))]),t("div",[e._v("paperScoreSum 试卷的满分 "+e._s(e.paperScoreSum))]),t("div",[e._v("questionCorrectSum 作对的题目数量 "+e._s(e.questionCorrectSum))]),t("div",[e._v("questionCountSum 一共有多少题目 "+e._s(e.questionCountSum))]),t("div",[e._v("doTimeSum 花了时间 "+e._s(e.doTimeSum)+" 秒")]),e._v(" showStuEchartsByType "),t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"showStuEchartsByType"}})],1)},s=[],o=a("56c3"),u=a("272e"),l=(a("c619"),a("7736")),n=a("333d"),c=a("ed24"),i=a("09f4"),p=a("a887"),m=a("014a"),y=a("b042"),d=a("93e7"),q=a("a7dd"),v=a("906c"),h={components:{Pagination:n["a"]},data:function(){return{options:["待批改","完成"],userScoreSum:0,paperScoreSum:0,questionCorrectSum:0,questionCountSum:0,doTimeSum:0,query:{id:null,examPaperId:null,paperName:null,paperType:null,subjectId:null,systemScore:null,userScore:null,paperScore:null,questionCorrect:null,questionCount:null,doTime:null,status:null,createUser:null,createTime:null,taskExamId:null,tenantId:null},queryParam:{pageIndex:1,pageSize:10,pageNumber:1},listLoading:!1,tableData:[],total:0,selectItem:{systemScore:"0",userScore:"0",doTime:"0",paperScore:"0",questionCorrect:0,questionCount:0},systemScoreSum:0}},created:function(){this.search(),Object(i["a"])(0,800)},methods:{valSelectBlur:function(){},valInputFocus:function(){},valSelectFocus:function(){},valSelectChange:function(){},search:function(){var e=this.$route.query.createUserId||null;this.listLoading=!0;var t=this;console.log("search examPaperAnswerApi");var a={id:this.query.id,examPaperId:this.query.examPaperId,paperName:this.query.paperName,paperType:this.query.paperType,subjectId:this.query.subjectId,systemScore:this.query.systemScore,userScore:this.query.userScore,paperScore:this.query.paperScore,questionCorrect:this.query.questionCorrect,questionCount:this.query.questionCount,doTime:this.query.doTime,status:v["a"].examStatusMap[this.query.status],createUser:e,createTime:this.query.createTime,taskExamId:this.query.taskExamId,tenantId:this.query.tenantId};console.log("this.query.status"),console.log(this.query.status),this.query.createUser=e;c["a"].selectPage(t.queryParam,a).then((function(e){console.log("data"),console.log(e),console.log("this.query.status get data"),console.log(t.query.status),t.setDataMybatisPls(e)}))},selectPageByCreateUserName:function(){var e=this.$route.query.createUserId||null,t=this;console.log("search examPaperAnswerApi");this.query.createUserName;c["a"].selectPageByCreateUserName({pageNumber:1,pageSize:10},this.query).then((function(e){console.log("data"),console.log(e),t.setDataMybatisPls(e)}))},exportTableDataToXlsx:function(){p["a"].openDownloadDialogOfData(this.tableData,"exportdata.xlsx")},changeDate:function(e){var t,a=Object(u["a"])(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;r.createTimeStr=Object(d["b"])(r.createTime)}}catch(s){a.e(s)}finally{a.f()}},groupByEchartsShow:function(e){console.log("this.paperTypeEnum"),console.log(this.paperTypeEnum);var t=Object(y["a"])(e,(function(e){return e.paperName})),a=Object(y["a"])(e,(function(e){return e.paperType})),r=[],s=[],o=[];for(var l in console.log("groupBy_paperType"),console.log(a),a){var n=a[l],c=this.getPaperTypeName(l);c||(console.log("typeName not found"),console.log("i"),console.log(l)),console.log("o"),console.log(n),s.push(c),o.push(l);var i,p=0,d=Object(u["a"])(n);try{for(d.s();!(i=d.n()).done;){var q=i.value;p+=parseFloat(q.questionCount)}}catch(N){d.e(N)}finally{d.f()}r.push(p)}console.log("groupBy_paperName"),console.log(t);var v=[],h=[],b=[],S=[];for(var g in t){var f=t[g];v.push(g);var _,x=0,T=0,I=0,k=0,C=Object(u["a"])(f);try{for(C.s();!(_=C.n()).done;){var w=_.value;x+=parseFloat(w.userScore),T+=parseFloat(w.systemScore),I+=parseFloat(w.paperScore),k++}}catch(N){C.e(N)}finally{C.f()}f.sum=x,f.count=k,f.avg=x/k,f.systemScoreSum=T,f.paperScoreSum=I,f.avgScoreGot=T/I,b.push(I),h.push(T),S.push(f.avgScoreGot)}console.log("groupBy_paperName"),console.log(t),Object(m["c"])(s,r,"showStuEchartsByType")},setDataMybatisPls:function(e){var t=this;if(2==e.code)return this.$message.error(e.message),void(t.listLoading=!1);var a=e.response;t.tableData=e.response.records,console.log("_this.tableData"),console.log(t.tableData),t.changeDate(t.tableData),t.calAll(t.tableData),t.total=a.total,t.queryParam.pageIndex=a.current,t.queryParam.pageNumber=a.current,console.log(" _this.queryParam"),console.log(t.queryParam),console.log("_this.total"),console.log(t.total),console.log("_this.query"),console.log(t.query),t.listLoading=!1},setData:function(e){var t=this,a=e.response;t.tableData=a.list,t.total=a.total,t.queryParam.pageIndex=a.pageNum,t.listLoading=!1},calAll:function(e){var t=q["a"].sum(e,"systemScore");this.systemScoreSum=t,this.userScoreSum=q["a"].sum(e,"userScore"),this.paperScoreSum=q["a"].sum(e,"paperScore"),this.questionCorrectSum=q["a"].sum(e,"questionCorrect"),this.questionCountSum=q["a"].sum(e,"questionCount"),this.doTimeSum=q["a"].sum(e,"doTime")},itemSelect:function(e,t,a){this.selectItem=e},statusTagFormatter:function(e){return this.enumFormat(this.statusTag,e)},statusTextFormatter:function(e){return this.enumFormat(this.statusEnum,e)}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])("enumItem",["enumFormat"])),Object(l["e"])("enumItem",{statusEnum:function(e){return e.exam.examPaperAnswer.statusEnum},statusTag:function(e){return e.exam.examPaperAnswer.statusTag}}))},b=h,S=(a("00ea"),a("e607")),g=Object(S["a"])(b,r,s,!1,null,"60481a76",null);t["default"]=g.exports},fb30:function(e,t,a){}}]);