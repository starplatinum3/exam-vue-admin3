(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07de3baa"],{"270d":function(e,t,n){"use strict";n.r(t);n("a7b5");var s=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{staticClass:"do-exam-title",staticStyle:{"background-color":"#F5F5DC"}},[t("el-col",{attrs:{span:24}},e._l(e.answer.answerItems,(function(n){return t("span",{key:n.itemOrder},[t("el-tag",{staticClass:"do-exam-title-tag",attrs:{type:e.questionDoRightTag(n.doRight)},on:{click:function(t){return e.goAnchor("#question-"+n.itemOrder)}}},[e._v(e._s(n.itemOrder))])],1)})),0)],1),t("el-row",{staticClass:"do-exam-title-hidden"},[t("el-col",{attrs:{span:24}},e._l(e.answer.answerItems,(function(n){return t("span",{key:n.itemOrder},[t("el-tag",{staticClass:"do-exam-title-tag"},[e._v(e._s(n.itemOrder))])],1)})),0)],1),t("el-container",{staticClass:"app-item-contain"},[t("el-header",{staticClass:"align-center"},[t("h1",[e._v(e._s(e.form.name))]),t("div",[t("span",{staticClass:"question-title-padding"},[e._v("试卷得分："+e._s(e.answer.score))]),t("span",{staticClass:"question-title-padding"},[e._v("试卷耗时："+e._s(e.formatSeconds(e.answer.doTime)))])])]),t("el-main",[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"form",attrs:{model:e.form,"label-width":"100px"}},[e._l(e.form.titleItems,(function(n,s){return t("el-row",{key:s},[t("h3",[e._v(e._s(n.name))]),0!==n.questionItems.length?t("el-card",{staticClass:"exampaper-item-box"},e._l(n.questionItems,(function(n){return t("el-form-item",{key:n.itemOrder,staticClass:"exam-question-item",attrs:{label:n.itemOrder+".","label-width":"50px",id:"question-"+n.itemOrder}},[t("el-row",[t("QuestionAnswerShow",{attrs:{qType:n.questionType,question:n,answer:e.answer.answerItems[n.itemOrder-1]}})],1),e.answer.answerItems[n.itemOrder-1]&&null===e.answer.answerItems[n.itemOrder-1].doRight?t("el-row",[t("label",{staticStyle:{color:"#e6a23c"}},[e._v("批改：")]),t("el-radio-group",{model:{value:e.answer.answerItems[n.itemOrder-1].score,callback:function(t){e.$set(e.answer.answerItems[n.itemOrder-1],"score",t)},expression:"answer.answerItems[questionItem.itemOrder-1].score"}},e._l(e.scoreSelect(n.score),(function(n){return t("el-radio",{key:n,attrs:{label:n}},[e._v(" "+e._s(0==n?"错误":"对")+" ")])})),1)],1):e._e()],1)})),1):e._e()],1)})),t("el-row",{staticClass:"do-align-center"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),t("el-button",[e._v("取消")])],1)],2)],1)],1)],1)},o=[],a=n("56c3"),i=n("272e"),r=(n("ad6c"),n("57b9"),n("c619"),n("9e4b"),n("7736")),c=n("ed08"),l=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.qLoading,expression:"qLoading"}],staticStyle:{"line-height":"1.8"}},[1==e.qType||2==e.qType||3==e.qType||4==e.qType||5==e.qType?t("div",[1==e.qType?t("div",{staticClass:"questionsContain"},[t("div",{staticClass:"q-title",domProps:{innerHTML:e._s(e.question.title)}}),t("div",{staticClass:"q-content"},[t("el-radio-group",{model:{value:e.answer.content,callback:function(t){e.$set(e.answer,"content",t)},expression:"answer.content"}},e._l(e.question.items,(function(n){return t("div",{key:n.prefix},[t("el-radio",{staticClass:"questionsRadio",attrs:{label:n.prefix}},[t("span",{staticClass:"question-prefix"},[e._v(e._s(n.prefix)+".")]),t("span",{domProps:{innerHTML:e._s(n.content)}})])],1)})),0)],1)]):2==e.qType?t("div",[t("div",{staticClass:"q-title",domProps:{innerHTML:e._s(e.question.title)}}),t("div",{staticClass:"q-content"},[t("el-checkbox-group",{model:{value:e.answer.contentArray,callback:function(t){e.$set(e.answer,"contentArray",t)},expression:"answer.contentArray"}},e._l(e.question.items,(function(n){return t("el-checkbox",{key:n.prefix,attrs:{label:n.prefix}},[t("span",{staticClass:"question-prefix"},[e._v(e._s(n.prefix)+".")]),t("span",{staticClass:"q-item-span-content",domProps:{innerHTML:e._s(n.content)}})])})),1)],1)]):3==e.qType?t("div",[t("div",{staticClass:"q-title",staticStyle:{display:"inline","margin-right":"10px"},domProps:{innerHTML:e._s(e.question.title)}}),t("span",{staticStyle:{"padding-right":"10px"}},[e._v("(")]),t("el-radio-group",{model:{value:e.answer.content,callback:function(t){e.$set(e.answer,"content",t)},expression:"answer.content"}},e._l(e.question.items,(function(n){return t("el-radio",{key:n.prefix,attrs:{label:n.prefix}},[t("span",{staticClass:"q-item-span-content",domProps:{innerHTML:e._s(n.content)}})])})),1),t("span",{staticStyle:{"padding-left":"10px"}},[e._v(")")])],1):4==e.qType?t("div",[t("div",{staticClass:"q-title",domProps:{innerHTML:e._s(e.question.title)}}),null!==e.answer.contentArray?t("div",e._l(e.question.items,(function(n){return t("el-form-item",{key:n.prefix,staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{label:n.prefix,"label-width":"50px"}},[t("el-input",{model:{value:e.answer.contentArray[n.prefix-1],callback:function(t){e.$set(e.answer.contentArray,n.prefix-1,t)},expression:"answer.contentArray[item.prefix - 1]"}})],1)})),1):e._e()]):5==e.qType?t("div",[t("div",{staticClass:"q-title",domProps:{innerHTML:e._s(e.question.title)}}),t("div",[t("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.answer.content,callback:function(t){e.$set(e.answer,"content",t)},expression:"answer.content"}})],1)]):e._e(),t("div",{staticClass:"question-answer-show-item",staticStyle:{"margin-top":"15px"}},[t("span",{staticClass:"question-show-item"},[e._v("结果：")]),t("el-tag",{attrs:{type:e.doRightTagFormatter(e.answer.doRight)}},[e._v(" "+e._s(e.doRightTextFormatter(e.answer.doRight))+" ")])],1),t("div",{staticClass:"question-answer-show-item"},[t("span",{staticClass:"question-show-item"},[e._v("分数：")]),t("span",[e._v(e._s(e.question.score))])]),t("div",{staticClass:"question-answer-show-item"},[t("span",{staticClass:"question-show-item"},[e._v("难度：")]),t("el-rate",{staticClass:"question-show-item",attrs:{disabled:""},model:{value:e.question.difficult,callback:function(t){e.$set(e.question,"difficult",t)},expression:"question.difficult"}})],1),t("br"),t("div",{staticClass:"question-answer-show-item",staticStyle:{"line-height":"1.8"}},[t("span",{staticClass:"question-show-item"},[e._v("解析：")]),t("span",{staticClass:"q-item-span-content",domProps:{innerHTML:e._s(e.question.analyze)}})]),t("div",{staticClass:"question-answer-show-item"},[t("span",{staticClass:"question-show-item"},[e._v("正确答案：")]),1==e.qType||2==e.qType||5==e.qType?t("span",{staticClass:"q-item-span-content",domProps:{innerHTML:e._s(e.question.correct)}}):e._e(),3==e.qType?t("span",{staticClass:"q-item-span-content",domProps:{innerHTML:e._s(e.trueFalseFormatter(e.question))}}):e._e(),4==e.qType?t("span",[e._v(e._s(e.question.correctArray))]):e._e()]),t("el-dialog",{attrs:{title:"",width:"1400px",visible:e.drawIoShowing},on:{"update:visible":function(t){e.drawIoShowing=t}}},[t("DrawIo",{attrs:{drawIo:e.answer.drawIo},on:{saveDrawBack:e.saveDrawBack}})],1),e.shouldShowDrawIo?t("el-button",{attrs:{type:""},on:{click:e.lookQuestionDrawIoRightAns}},[e._v("lookQuestionDrawIoRightAns")]):e._e(),e.shouldShowDrawIo?t("el-button",{attrs:{type:""},on:{click:e.lookDrawIo}},[e._v("lookDrawIo")]):e._e(),t("el-dialog",{attrs:{title:"",width:"1400px",visible:e.questionDrawIoShowing},on:{"update:visible":function(t){e.questionDrawIoShowing=t}}},[t("DrawIo",{attrs:{drawIo:e.question.drawIo},on:{saveDrawBack:e.saveDrawBack}})],1)],1):t("div")])},u=[],d=(n("ea1e"),n("7c25"),n("6865")),m=n("82ae"),p=n.n(m),w=n("906c"),f={name:"QuestionShow",components:{DrawIo:d["default"]},data:function(){return{shouldShowDrawIo:!0,drawIoShowing:!1,questionDrawIoShowing:!1}},props:{question:{type:Object,default:function(){return{}}},answer:{type:Object,default:function(){return{id:null,content:"",contentArray:[],doRight:!1}}},qLoading:{type:Boolean,default:!1},qType:{type:Number,default:0}},mounted:function(){console.log("question"),console.log(this.question),console.log("answer"),console.log(this.answer),this.drawIoSetUp()},methods:{drawIoSetUp:function(){var e=this.question.drawIo;if(console.log("rightAnsDrawIo"),console.log(e),e&&""!=e&&"null"!=e&&"undefined"!=e&&"{}"!=e&&"[]"!=e&&'{"text":[],"begin":[],"circle":[],"lines":[]}'!=e){try{console.log("this.question.drawIo"),console.log(this.question.drawIo),this.question.drawIo=JSON.parse(this.question.drawIo)}catch(t){console.log(t),this.question.drawIo=JSON.parse('{"text":[],"begin":[],"circle":[],"lines":[]}')}try{this.answer.drawIo=JSON.parse(this.answer.drawIo)}catch(t){console.log(t),this.answer.drawIo=JSON.parse('{"text":[],"begin":[],"circle":[],"lines":[]}')}}else this.shouldShowDrawIo=!1},lookQuestionDrawIoRightAns:function(){this.questionDrawIoShowing=!0},lookQuestionDrawIo:function(){var e=this,t=w["a"].examUrl,n={drawId:null,id:null,questionId:this.question.id};p.a.post(t+"questionDraw/getDrawByQuestionId?pageNumber=".concat(0,"&pageSize=",1),n).then((function(t){if(console.log("res questionDraw/getDrawByQuestionId"),console.log(t),1==t.data.code){var n=t.data.response;n.content=JSON.parse(n.content),e.question.drawIo=n.content,e.questionDrawIoShowing=!0}else e.$message.error(t.data.response)}))},lookDrawIo:function(){this.drawIoShowing=!0},saveDrawBack:function(e){console.log(" this.questionItem saveDrawBack"),console.log(this.questionItem),this.drawIoShowing=!1},trueFalseFormatter:function(e){return e.items.filter((function(t){return t.prefix===e.correct}))[0].content},doRightTagFormatter:function(e){return this.enumFormat(this.doRightTag,e)},doRightTextFormatter:function(e){return this.enumFormat(this.doRightEnum,e)}},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])("enumItem",["enumFormat"])),Object(r["e"])("enumItem",{doRightEnum:function(e){return e.exam.question.answer.doRightEnum},doRightTag:function(e){return e.exam.question.answer.doRightTag}}))},g=f,h=(n("c2df"),n("e607")),q=Object(h["a"])(g,l,u,!1,null,"15de573f",null),v=q.exports,b=n("ed24"),y={components:{QuestionAnswerShow:v},data:function(){return{form:{},formLoading:!1,answer:{id:null,score:0,doTime:0,answerItems:[],doRight:!1}}},created:function(){var e=this.$route.query.id,t=this;e&&0!==parseInt(e)&&b["a"].read(e).then((function(e){t.form=e.response.paper,console.log("_this.form"),console.log(t.form),console.log("form.titleItems"),console.log(t.form.titleItems),t.parseTitleItems(t.form.titleItems),t.answer=e.response.answer,console.log(" item.doRight"),t.answer.answerItems.forEach((function(e){console.log(e),console.log(e.doRight)})),console.log("_this.answer"),console.log(t.answer)}))},methods:{parseTitleItems:function(e){var t,n=Object(i["a"])(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;console.log(s),this.parseQuestionItems(s.questionItems)}}catch(o){n.e(o)}finally{n.f()}},parseQuestionItems:function(e){var t,n=Object(i["a"])(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;console.log(s)}}catch(o){n.e(o)}finally{n.f()}},submitForm:function(){var e=this;e.formLoading=!0;var t=this.$route.query.id;b["a"].edit(this.answer).then((function(n){1===n.code?e.$alert("试卷得分："+n.response+"分","考试结果",{confirmButtonText:"返回考试记录",callback:function(n){e.$router.push("/test/ExamRecord?id=".concat(t),{query:{id:t}})}}):e.$message.error(n.message),e.formLoading=!1})).catch((function(t){e.formLoading=!1}))},scoreSelect:function(e){for(var t=[],n=0;n<=parseInt(e);n++)t.push(n.toString());return-1!==e.indexOf(".")&&t.push(e),t},formatSeconds:function(e){return Object(c["b"])(e)},questionDoRightTag:function(e){return this.enumFormat(this.doRightTag,e)},goAnchor:function(e){this.$el.querySelector(e).scrollIntoView({behavior:"instant",block:"center",inline:"nearest"})}},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])("enumItem",["enumFormat"])),Object(r["e"])("enumItem",{doRightTag:function(e){return e.exam.question.answer.doRightTag}}))},I=y,_=(n("82a4"),Object(h["a"])(I,s,o,!1,null,"5653e4a0",null));t["default"]=_.exports},"82a4":function(e,t,n){"use strict";n("c0f7")},c0f7:function(e,t,n){},c2df:function(e,t,n){"use strict";n("ce53")},ce53:function(e,t,n){},ed24:function(e,t,n){"use strict";var s=n("b775"),o="/api/examPaperAnswer";t["a"]={page:function(e){return Object(s["a"])("/api/admin/examPaperAnswer/page",e)},pageList:function(e){return Object(s["a"])("/api/student/exampaper/answer/pageList",e)},answerSubmit:function(e){return Object(s["a"])("/api/student/exampaper/answer/answerSubmit",e)},read:function(e){return Object(s["a"])("/api/student/exampaper/answer/read/"+e)},edit:function(e){return Object(s["a"])("/api/student/exampaper/answer/edit",e)},save:function(e,t){return Object(s["c"])("".concat(o,"/save"),e,t)},saveAll:function(e,t){return Object(s["c"])("".concat(o,"/saveAll"),e,t)},deleteBy:function(e,t){return Object(s["c"])("".concat(o,"/deleteBy"),e,t)},selectPageEqual:function(e,t){return Object(s["c"])("".concat(o,"/selectPageEqual"),e,t)},selectByExample:function(e,t){return Object(s["c"])("".concat(o,"/selectByExample"),e,t)},selectPage:function(e,t){return Object(s["c"])("".concat(o,"/selectPage"),e,t)},removeByIds:function(e,t){return Object(s["c"])("".concat(o,"/removeByIds"),e,t)},selectPlusPage:function(e,t){return Object(s["c"])("".concat(o,"/selectPlusPage"),e,t)},select:function(e,t){return Object(s["c"])("".concat(o,"/select"),e,t)},selectPageByCreateUserName:function(e,t){return Object(s["c"])("".concat(o,"/selectPageByCreateUserName"),e,t)},StatisticsPaperScoreOfUser:function(e,t){return Object(s["c"])("".concat(o,"/StatisticsPaperScoreOfUser"),e,t)},StatisticsEyesightResOfUser:function(e,t){return Object(s["c"])("".concat(o,"/StatisticsEyesightResOfUser"),e,t)},selectByExamPaperId:function(e,t){return Object(s["c"])("".concat(o,"/selectByExamPaperId"),e,t)},selectByCreateUserId:function(e,t){return Object(s["c"])("".concat(o,"/selectByCreateUserId"),e,t)}}}}]);